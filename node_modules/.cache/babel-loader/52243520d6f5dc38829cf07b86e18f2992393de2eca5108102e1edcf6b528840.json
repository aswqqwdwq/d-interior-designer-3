{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{fabric}from'fabric';import{jsx as _jsx}from\"react/jsx-runtime\";const FloorPlanEditor=()=>{const canvasRef=useRef(null);const fabricRef=useRef(null);useEffect(()=>{// Initialize Fabric.js canvas\nfabricRef.current=new fabric.Canvas(canvasRef.current,{width:window.innerWidth*0.7,height:window.innerHeight*0.8,backgroundColor:'#f0f0f0'});// Add drawing mode for walls\nconst canvas=fabricRef.current;let isDrawing=false;let startPoint;canvas.on('mouse:down',options=>{isDrawing=true;startPoint=canvas.getPointer(options.e);const wall=new fabric.Line([startPoint.x,startPoint.y,startPoint.x,startPoint.y],{stroke:'#333',strokeWidth:5,selectable:true});canvas.add(wall);canvas.renderAll();});canvas.on('mouse:move',options=>{if(!isDrawing)return;const pointer=canvas.getPointer(options.e);const activeObject=canvas.getActiveObject();if(activeObject&&activeObject.type==='line'){activeObject.set({x2:pointer.x,y2:pointer.y});canvas.renderAll();}});canvas.on('mouse:up',()=>{isDrawing=false;});// Cleanup\nreturn()=>{canvas.dispose();};},[]);return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef})});};export default FloorPlanEditor;","map":{"version":3,"names":["React","useEffect","useRef","fabric","jsx","_jsx","FloorPlanEditor","canvasRef","fabricRef","current","Canvas","width","window","innerWidth","height","innerHeight","backgroundColor","canvas","isDrawing","startPoint","on","options","getPointer","e","wall","Line","x","y","stroke","strokeWidth","selectable","add","renderAll","pointer","activeObject","getActiveObject","type","set","x2","y2","dispose","style","padding","children","ref"],"sources":["C:/Users/pishroo/CascadeProjects/3d-interior-designer/frontend/src/components/Editor/FloorPlanEditor.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { fabric } from 'fabric';\n\nconst FloorPlanEditor = () => {\n  const canvasRef = useRef(null);\n  const fabricRef = useRef(null);\n\n  useEffect(() => {\n    // Initialize Fabric.js canvas\n    fabricRef.current = new fabric.Canvas(canvasRef.current, {\n      width: window.innerWidth * 0.7,\n      height: window.innerHeight * 0.8,\n      backgroundColor: '#f0f0f0',\n    });\n\n    // Add drawing mode for walls\n    const canvas = fabricRef.current;\n    let isDrawing = false;\n    let startPoint;\n\n    canvas.on('mouse:down', (options) => {\n      isDrawing = true;\n      startPoint = canvas.getPointer(options.e);\n      const wall = new fabric.Line([startPoint.x, startPoint.y, startPoint.x, startPoint.y], {\n        stroke: '#333',\n        strokeWidth: 5,\n        selectable: true,\n      });\n      canvas.add(wall);\n      canvas.renderAll();\n    });\n\n    canvas.on('mouse:move', (options) => {\n      if (!isDrawing) return;\n      const pointer = canvas.getPointer(options.e);\n      const activeObject = canvas.getActiveObject();\n      if (activeObject && activeObject.type === 'line') {\n        activeObject.set({\n          x2: pointer.x,\n          y2: pointer.y,\n        });\n        canvas.renderAll();\n      }\n    });\n\n    canvas.on('mouse:up', () => {\n      isDrawing = false;\n    });\n\n    // Cleanup\n    return () => {\n      canvas.dispose();\n    };\n  }, []);\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <canvas ref={canvasRef} />\n    </div>\n  );\n};\n\nexport default FloorPlanEditor;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,OAASC,MAAM,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhC,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,SAAS,CAAGL,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAAAM,SAAS,CAAGN,MAAM,CAAC,IAAI,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACd;AACAO,SAAS,CAACC,OAAO,CAAG,GAAI,CAAAN,MAAM,CAACO,MAAM,CAACH,SAAS,CAACE,OAAO,CAAE,CACvDE,KAAK,CAAEC,MAAM,CAACC,UAAU,CAAG,GAAG,CAC9BC,MAAM,CAAEF,MAAM,CAACG,WAAW,CAAG,GAAG,CAChCC,eAAe,CAAE,SACnB,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,MAAM,CAAGT,SAAS,CAACC,OAAO,CAChC,GAAI,CAAAS,SAAS,CAAG,KAAK,CACrB,GAAI,CAAAC,UAAU,CAEdF,MAAM,CAACG,EAAE,CAAC,YAAY,CAAGC,OAAO,EAAK,CACnCH,SAAS,CAAG,IAAI,CAChBC,UAAU,CAAGF,MAAM,CAACK,UAAU,CAACD,OAAO,CAACE,CAAC,CAAC,CACzC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAArB,MAAM,CAACsB,IAAI,CAAC,CAACN,UAAU,CAACO,CAAC,CAAEP,UAAU,CAACQ,CAAC,CAAER,UAAU,CAACO,CAAC,CAAEP,UAAU,CAACQ,CAAC,CAAC,CAAE,CACrFC,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,CAAC,CACdC,UAAU,CAAE,IACd,CAAC,CAAC,CACFb,MAAM,CAACc,GAAG,CAACP,IAAI,CAAC,CAChBP,MAAM,CAACe,SAAS,CAAC,CAAC,CACpB,CAAC,CAAC,CAEFf,MAAM,CAACG,EAAE,CAAC,YAAY,CAAGC,OAAO,EAAK,CACnC,GAAI,CAACH,SAAS,CAAE,OAChB,KAAM,CAAAe,OAAO,CAAGhB,MAAM,CAACK,UAAU,CAACD,OAAO,CAACE,CAAC,CAAC,CAC5C,KAAM,CAAAW,YAAY,CAAGjB,MAAM,CAACkB,eAAe,CAAC,CAAC,CAC7C,GAAID,YAAY,EAAIA,YAAY,CAACE,IAAI,GAAK,MAAM,CAAE,CAChDF,YAAY,CAACG,GAAG,CAAC,CACfC,EAAE,CAAEL,OAAO,CAACP,CAAC,CACba,EAAE,CAAEN,OAAO,CAACN,CACd,CAAC,CAAC,CACFV,MAAM,CAACe,SAAS,CAAC,CAAC,CACpB,CACF,CAAC,CAAC,CAEFf,MAAM,CAACG,EAAE,CAAC,UAAU,CAAE,IAAM,CAC1BF,SAAS,CAAG,KAAK,CACnB,CAAC,CAAC,CAEF;AACA,MAAO,IAAM,CACXD,MAAM,CAACuB,OAAO,CAAC,CAAC,CAClB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEnC,IAAA,QAAKoC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,cAC9BtC,IAAA,WAAQuC,GAAG,CAAErC,SAAU,CAAE,CAAC,CACvB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}